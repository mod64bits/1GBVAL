(function(){'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var h=0;return function(){return h<b.length?{done:!1,value:b[h++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,h,d){if(b==Array.prototype||b==Object.prototype)return b;b[h]=d.value;return b};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var h=0;h<b.length;++h){var d=b[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,h){var d=$jscomp.propertyToPolyfillSymbol[h];if(null==d)return b[h];d=b[d];return void 0!==d?d:b[h]};
$jscomp.polyfill=function(b,h,d,f){h&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,h,d,f):$jscomp.polyfillUnisolated(b,h,d,f))};$jscomp.polyfillUnisolated=function(b,h,d,f){d=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var c=b[f];if(!(c in d))return;d=d[c]}b=b[b.length-1];f=d[b];h=h(f);h!=f&&null!=h&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:h})};
$jscomp.polyfillIsolated=function(b,h,d,f){var c=b.split(".");b=1===c.length;f=c[0];f=!b&&f in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var g=0;g<c.length-1;g++){var e=c[g];if(!(e in f))return;f=f[e]}c=c[c.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&"es6"===d?f[c]:null;h=h(d);null!=h&&(b?$jscomp.defineProperty($jscomp.polyfills,c,{configurable:!0,writable:!0,value:h}):h!==d&&($jscomp.propertyToPolyfillSymbol[c]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(c):$jscomp.POLYFILL_PREFIX+c,c=
$jscomp.propertyToPolyfillSymbol[c],$jscomp.defineProperty(f,c,{configurable:!0,writable:!0,value:h})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(b){if(b)return b;var h=function(c,g){this.$jscomp$symbol$id_=c;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};h.prototype.toString=function(){return this.$jscomp$symbol$id_};var d=0,f=function(c){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new h("jscomp_symbol_"+(c||"")+"_"+d++,c)};return f},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var h="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),d=0;d<h.length;d++){var f=$jscomp.global[h[d]];"function"===typeof f&&"function"!=typeof f.prototype[b]&&$jscomp.defineProperty(f.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return b},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(b){b={next:b};b[Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,h){b instanceof String&&(b+="");var d=0,f=!1,c={next:function(){if(!f&&d<b.length){var g=d++;return{value:h(g,b[g]),done:!1}}f=!0;return{done:!0,value:void 0}}};c[Symbol.iterator]=function(){return c};return c};
$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(h,d){return d})}},"es8","es3");$jscomp.polyfill("Array.prototype.entries",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(h,d){return[h,d]})}},"es6","es3");
$jscomp.polyfill("Array.prototype.flat",function(b){return b?b:function(h){h=void 0===h?1:h;for(var d=[],f=0;f<this.length;f++){var c=this[f];Array.isArray(c)&&0<h?(c=Array.prototype.flat.call(c,h-1),d.push.apply(d,c)):d.push(c)}return d}},"es9","es5");$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(h){return h})}},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(h,d,f){d=null!=d?d:function(m){return m};var c=[],g="undefined"!=typeof Symbol&&Symbol.iterator&&h[Symbol.iterator];if("function"==typeof g){h=g.call(h);for(var e=0;!(g=h.next()).done;)c.push(d.call(f,g.value,e++))}else for(g=h.length,e=0;e<g;e++)c.push(d.call(f,h[e],e));return c}},"es6","es3");$jscomp.makeIterator=function(b){var h="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return h?h.call(b):$jscomp.arrayIterator(b)};
$jscomp.polyfill("Promise",function(b){function h(){this.batch_=null}function d(e){return e instanceof c?e:new c(function(m,p){m(e)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;h.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var m=this;this.asyncExecuteFunction(function(){m.executeBatch_()})}this.batch_.push(e)};var f=$jscomp.global.setTimeout;h.prototype.asyncExecuteFunction=function(e){f(e,0)};h.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=
this.batch_;this.batch_=[];for(var m=0;m<e.length;++m){var p=e[m];e[m]=null;try{p()}catch(r){this.asyncThrow_(r)}}}this.batch_=null};h.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e;})};var c=function(e){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var m=this.createResolveAndReject_();try{e(m.resolve,m.reject)}catch(p){m.reject(p)}};c.prototype.createResolveAndReject_=function(){function e(r){return function(x){p||(p=!0,
r.call(m,x))}}var m=this,p=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}};c.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof c)this.settleSameAsPromise_(e);else{a:switch(typeof e){case "object":var m=null!=e;break a;case "function":m=!0;break a;default:m=!1}m?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}};c.prototype.resolveToNonPromiseObj_=function(e){var m=void 0;try{m=e.then}catch(p){this.reject_(p);
return}"function"==typeof m?this.settleSameAsThenable_(m,e):this.fulfill_(e)};c.prototype.reject_=function(e){this.settle_(2,e)};c.prototype.fulfill_=function(e){this.settle_(1,e)};c.prototype.settle_=function(e,m){if(0!=this.state_)throw Error("Cannot settle("+e+", "+m+"): Promise already settled in state"+this.state_);this.state_=e;this.result_=m;2===this.state_&&this.scheduleUnhandledRejectionCheck_();this.executeOnSettledCallbacks_()};c.prototype.scheduleUnhandledRejectionCheck_=function(){var e=
this;f(function(){if(e.notifyUnhandledRejection_()){var m=$jscomp.global.console;"undefined"!==typeof m&&m.error(e.result_)}},1)};c.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var e=$jscomp.global.CustomEvent,m=$jscomp.global.Event,p=$jscomp.global.dispatchEvent;if("undefined"===typeof p)return!0;"function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof m?e=new m("unhandledrejection",{cancelable:!0}):(e=$jscomp.global.document.createEvent("CustomEvent"),
e.initCustomEvent("unhandledrejection",!1,!0,e));e.promise=this;e.reason=this.result_;return p(e)};c.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)g.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var g=new h;c.prototype.settleSameAsPromise_=function(e){var m=this.createResolveAndReject_();e.callWhenSettled_(m.resolve,m.reject)};c.prototype.settleSameAsThenable_=function(e,m){var p=this.createResolveAndReject_();
try{e.call(m,p.resolve,p.reject)}catch(r){p.reject(r)}};c.prototype.then=function(e,m){function p(q,u){return"function"==typeof q?function(a){try{r(q(a))}catch(k){x(k)}}:u}var r,x,w=new c(function(q,u){r=q;x=u});this.callWhenSettled_(p(e,r),p(m,x));return w};c.prototype.catch=function(e){return this.then(void 0,e)};c.prototype.callWhenSettled_=function(e,m){function p(){switch(r.state_){case 1:e(r.result_);break;case 2:m(r.result_);break;default:throw Error("Unexpected state: "+r.state_);}}var r=
this;null==this.onSettledCallbacks_?g.asyncExecute(p):this.onSettledCallbacks_.push(p);this.isRejectionHandled_=!0};c.resolve=d;c.reject=function(e){return new c(function(m,p){p(e)})};c.race=function(e){return new c(function(m,p){for(var r=$jscomp.makeIterator(e),x=r.next();!x.done;x=r.next())d(x.value).callWhenSettled_(m,p)})};c.all=function(e){var m=$jscomp.makeIterator(e),p=m.next();return p.done?d([]):new c(function(r,x){function w(a){return function(k){q[a]=k;u--;0==u&&r(q)}}var q=[],u=0;do q.push(void 0),
u++,d(p.value).callWhenSettled_(w(q.length-1),x),p=m.next();while(!p.done)})};return c},"es6","es3");
(function(b){function h(f){if(d[f])return d[f].exports;var c=d[f]={i:f,l:!1,exports:{}};b[f].call(c.exports,c,c.exports,h);c.l=!0;return c.exports}var d={};h.m=b;h.c=d;h.d=function(f,c,g){h.o(f,c)||Object.defineProperty(f,c,{enumerable:!0,get:g})};h.r=function(f){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})};h.t=function(f,c){c&1&&(f=h(f));if(c&8||c&4&&"object"===typeof f&&f&&f.__esModule)return f;
var g=Object.create(null);h.r(g);Object.defineProperty(g,"default",{enumerable:!0,value:f});if(c&2&&"string"!=typeof f)for(var e in f)h.d(g,e,function(m){return f[m]}.bind(null,e));return g};h.n=function(f){var c=f&&f.__esModule?function(){return f["default"]}:function(){return f};h.d(c,"a",c);return c};h.o=function(f,c){return Object.prototype.hasOwnProperty.call(f,c)};h.p="";return h(h.s=175)})({0:function(b,h,d){var f=d(35);b.exports=function(c,g,e){g=f(g);g in c?Object.defineProperty(c,g,{value:e,
enumerable:!0,configurable:!0,writable:!0}):c[g]=e;return c};b.exports.__esModule=!0;b.exports["default"]=b.exports},132:function(b,h,d){function f(g,e){var m={cottagecore:{width:7680,height:7200},darkacademia:{width:7360,height:8020},dreamcore:{width:7360,height:7020},royaltycore:{width:2880,height:2700},y2k:{width:6720,height:6300},bardcore:{width:7380,height:7680}},p=!1;d3.select("body").classed("is-mobile")&&(p=!0);e.selectAll("div").remove();var r=e.append("div").attr("class","nav");e.append("div").attr("class",
"mobile-embiggen").on("click",function(q){e.classed("full-screen",!0)});r.selectAll("div").data(["zoom-in","zoom-out"]).enter().append("div").attr("class","nav-container").append("button").attr("aria-label",function(q){return q}).attr("class",function(q){return"zoom-button ".concat(q)});e.append("div").attr("class","nav-container mobile-close").text("Close").on("click",function(q){e.classed("full-screen",!1)});r=Math.round(1E3*Math.random());var x=1;d3.select("body").classed("is-mobile")&&(x=1.5);
e.append("div").attr("id","openseadragon_".concat(g,"_").concat(r)).attr("class","openseadragon");var w=OpenSeadragon({id:"openseadragon_".concat(g,"_").concat(r),prefixUrl:"/trends/static/deep-dive/youtube-aesthetics/assets/tiles_".concat(g,"/output_files/"),tileSources:{Image:{xmlns:"https://schemas.microsoft.com/deepzoom/2009",Url:"/trends/static/deep-dive/youtube-aesthetics/assets/tiles_".concat(g,"/output_files/"),Format:"jpg",Overlap:"0",TileSize:"512",Size:{Height:m[g].height,Width:m[g].width}}},
showNavigator:!1,showHomeControl:!1,showFullPageControl:!1,showZoomControl:!1,defaultZoomLevel:x,gestureSettingsMouse:{scrollToZoom:p,dblClickToZoom:!0,clickToZoom:!1},zoomPerClick:1,zoomPerScroll:1.2});e.select(".zoom-in").on("click",function(q){q=w.viewport.getZoom();w.viewport.zoomTo(2*q)});e.select(".zoom-out").on("click",function(q){q=w.viewport.getZoom()/2;.6>q&&(q=.6);w.viewport.zoomTo(q)})}var c=d(60);h.a={init:function(){f("cottagecore",d3.select(".thumbnail-all"));c.a.setupSelect("cottagecore",
d3.select(".thumbnail-select"),["bardcore","cottagecore","dark academia","y2k","royaltycore"]);d3.select(".thumbnail-select").on("change",function(g){g=d3.select(".thumbnail-select").node().value.replace(" ","");f(g,d3.select(".thumbnail-all"))})}}},133:function(b,h,d){h.a={getTrending:function(){return"bardcore;cottagecore;dark academia;dreamcore;y2k;royaltycore".split(";")}}},134:function(b,h,d){h.a={init:function(){d3.select("#first-video").html(function(f){return"<iframe height='100%' width='100%' src='https://www.youtube.com/embed/-Tm34ut8piE?enablejsapi=1&version=3&playerapiid=ytplayer' frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen title=\"YouTube video\"></iframe>"});
d3.select("#quiz-example").html(function(f){return"<iframe height='100%' width='100%' src='https://www.youtube.com/embed/cnaaB_erE4Y?enablejsapi=1&version=3&playerapiid=ytplayer' frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen title=\"YouTube video\"></iframe>"});d3.select("#swift-video").append("a").attr("href","https://www.youtube.com/watch?v=K-a8s8OLBSE").attr("target","_blank").append("div").attr("class","svg-overlay").html('<svg height="48" width="68" version="1.1" viewBox="0 0 68 48" width="100%"><path class="ytp-large-play-button-bg" d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z" fill="#f00"></path><path d="M 45,24 27,14 27,34" fill="#fff"></path></svg>')}}},
135:function(b,h,d){function f(t){y.forEach(function(A){A!==t&&d3.select(".ui-wrapper").classed(A,!1)});d3.select(".ui-wrapper").classed(t,!0)}function c(){d3.select(".line-chart-build").select(".chart").style("height",window.innerHeight+"px")}function g(){u=new r.a;u.setup({step:"#cottagecore",progress:!1,offset:1,order:!1}).onStepEnter(function(t){x.a.stopAnimation();d3.select(".ui-wrapper").classed("cottage-ui",!0);"down"===t.direction&&p(.6)}).onStepExit(function(t){"up"===t.direction&&x.a.startAnimation()})}
function e(t,A){t=k[t];d3.select(".build-hed").text(t);A&&d3.select(".chart-method").text(A)}function m(){a=new r.a;a.setup({step:".vapor",progress:!1,offset:1,order:!1}).onStepEnter(function(t){"down"===t.direction&&(p(1),f("vapor-ui"))}).onStepExit(function(t){"up"===t.direction&&f("dark-academia-ui")})}function p(t){d3.select(".ui-wrapper").select(".wallpaper").style("opacity",0).style("display","none").transition().duration(0).style("opacity",0).transition().duration(0).style("display","block").transition().duration(0).delay(500).style("opacity",
t)}b=d(96);d.n(b);var r=d(53),x=d(84),w=d(86),q=null,u=null,a=null,k={0:"Cottagecore",1:"Cottagecore",2:"Y2K",3:"Dreamcore",4:"Bardcore",5:"Dark Academia",6:"Royaltycore"},y=["vapor-ui","cottage-ui","bardcore-ui","dark-academia-ui","y2k-ui"];h.a={init:function(){w.a.init();c();q=new r.a;q.setup({step:".line-chart-step",offset:1,order:!1}).onStepEnter(function(t){var A=d3.select(t.element).select(".chat-box").attr("data-method");w.a.render(k[t.index]);e(t.index,A);switch(t.index){case 1:f("cottage-ui");
"up"===t.direction&&p(.6);break;case 2:p(1);f("y2k-ui");break;case 3:"up"===t.direction&&(p(1),f("y2k-ui"));break;case 4:p(.6);f("bardcore-ui");break;case 5:p(.6);f("dark-academia-ui");break;case 6:"up"===t.direction&&(p(.6),f("dark-academia-ui"))}}).onStepExit(function(t){switch(t.index){case 1:"down"===t.direction&&(w.a.render(k[2]),t=d3.select("#y2k-box").attr("data-method"),e(2,t),p(1),f("y2k-ui"));break;case 2:"up"===t.direction&&(w.a.render(k[1]),t=d3.select("#cottagecore-box-2").attr("data-method"),
e(1,t),p(.6),f("cottage-ui"))}});g();m()},resize:c}},136:function(b,h,d){function f(q,u){x=new Swiper(".channel-slider",{spaceBetween:10,slidesPerView:w});g.selectAll(".swiper-slide").remove();p=g.selectAll(".swiper-slide").data(r.get(u).values).enter().append("a").attr("class","swiper-slide").attr("target","_blank").attr("href",function(a){return a.link});p.append("div").attr("class","creator-img").style("background-image",function(a){return"url(".concat(a.image,")")});p.append("p").attr("class",
"creator-name").append("span").text(function(a){return a.name});e.on("click",function(){x.slidePrev(250)});m.on("click",function(){return x.slideNext(250)});x.update()}var c=d(60),g=d3.select(".channel-slider").selectAll(".swiper-wrapper"),e=d3.select(".channel-nav").select(".nav--left"),m=d3.select(".channel-nav").select(".nav--right"),p=null,r=null,x=null,w=3;h.a={init:function(){d3.select("body").classed("is-mobile")&&(w=1);d3.csv("/trends/static/deep-dive/youtube-aesthetics/assets/data/channels.csv").then(function(q){var u=
d3.select(".channel-select");r=d3.map(d3.nest().key(function(a){return a.aesthetic}).entries(q),function(a){return a.key});f(r,"dark academia");c.a.setupSelect("dark academia",u,null);u.on("change",function(a){a=u.node().value;f(r,a)})})}}},137:function(b,h,d){function f(q,u,a){u=x.get(u).values.reduce(function(t,A){t.push(A.values);return t},[]).flat(1);u=q.select(".swiper-wrapper").selectAll("div").data(u.slice(0,7)).enter().append("div").attr("class","swiper-slide");u.append("a").attr("href",function(t){return"https://www.youtube.com/watch?v=".concat(t["video-id"])}).attr("target",
"_blank").attr("class","thumbnail").style("background-image",function(t){return"url(https://i.ytimg.com/vi/".concat(t["video-id"],"/hqdefault.jpg)")}).attr("aria-label",function(t){return t.title});u.append("a").attr("class","grid-item-title").attr("href",function(t){return"https://www.youtube.com/watch?v=".concat(t["video-id"])}).attr("target","_blank").append("span").text(function(t){var A=t.title;return 50<A.length?A.slice(0,47)+"...":t.title});var k=new Swiper(a,{spaceBetween:10,slidesPerView:"auto"}),
y=q.select(function(){return this.parentNode}).select(".carousel-nav");y.select(".nav--left").on("click",function(){return k.slidePrev(500)});y.select(".nav--right").on("click",function(){k.slideNext(500);y.select(".nav--left").style("display","block")});k.update()}function c(q){r.selectAll("div").remove();var u=r.selectAll("div").data(x.get(q).values.filter(function(a){return"general"!=a.key})).enter().append("div").attr("class","grid-item").style("opacity",0);u.append("p").attr("class","category-name").html(function(a){var k=
a.key.charAt(0).toUpperCase()+a.key.slice(1);a=q+"_"+a.key.toLowerCase();a=w.get(a).description;return k+": <span class='category-desc'>"+a+"</span>"});u.append("a").attr("href",function(a){return"https://www.youtube.com/watch?v=".concat(a.values[0]["video-id"])}).attr("target","_blank").attr("class","thumbnail").style("background-image",function(a){return"url(https://i.ytimg.com/vi/".concat(a.values[0]["video-id"],"/hqdefault.jpg)")}).attr("aria-label",function(a){return a.values[0].title});u.append("a").attr("class",
"grid-item-title").attr("href",function(a){return"https://www.youtube.com/watch?v=".concat(a.values[0]["video-id"])}).attr("target","_blank").append("span").text(function(a){return a.values[0].title});u.transition().duration(750).delay(function(a,k){return 100*k}).style("opacity",1)}var g=d(60),e=d(84),m=d(90),p=null,r=null,x=null,w=null;h.a={init:function(){p=d3.select(".starter-pack");Object(m.a)(["starter-pack-7.csv","category-desc-4.csv"]).then(function(q){w=d3.map(q[1],function(a){return a.aesthetic+
"_"+a.category.toLowerCase()});x=d3.map(d3.nest().key(function(a){return a.aesthetic}).key(function(a){return a.category}).entries(q[0]),function(a){return a.key});e.a.init(x);r=p.append("div").attr("class","grid-wrapper");c("cottagecore");q=[[".dark-academia-videos","dark academia"],[".royaltycore-videos","royaltycore"],[".dreamcore-videos","dreamcore"],[".y2k-videos","y2k"],[".bardcore-videos","bardcore"]];for(var u=0;u<q.length;u++)f(d3.select(q[u][0]),q[u][1],q[u][0]);g.a.setupSelect("cottagecore",
d3.select(".starter-select"),null);d3.select(".starter-select").on("change",function(a){a=d3.select(".starter-select").node().value;c(a)})}).catch(console.error)}}},138:function(b,h,d){function f(m){m=m.sort(function(a,k){return k.val-a.val});var p="#66c5cc #f6cf71 #f89c74 #dcb0f2 #87c55f #b3b3b3 #9eb9f3 #fe88b1 #c9db74 #8be0a4 #b497e7 #d3b484".split(" "),r=g.node().getBoundingClientRect().width,x=Math.min(500,r);r=x-10-10;x=x-10-10;var w=d3.pack().size([r,r]).padding(10),q=d3.hierarchy({name:"root",
children:m}).sum(function(a){return a.val}).sort(function(a,k){return a.val-k.val});d3.select(".bubble-chart-container").remove();var u=g.append("div").attr("class","bubble-chart-container").append("svg");m=u.append("g");u.attr("width",r+10+10).attr("height",x+10+10);m.attr("transform","translate(".concat(10,", ").concat(10,")"));r=w(q).leaves();m.selectAll(".leaf-circle").data(r,function(a){return a.data.name}).enter().append("circle").style("fill",function(a,k){return p[k]}).attr("class","leaf-circle").attr("cx",
function(a){return a.x}).attr("cy",function(a){return a.y}).attr("r",1E-6).transition().duration(1E3).attr("r",function(a){return a.r});m.selectAll("text").data(r,function(a){return a.data.name}).enter().append("text").attr("fill","black").attr("transform",function(a){a.lines=a.data.cat.split(", ");return"translate(".concat(a.x,",").concat(a.y,")")}).classed("big-text",function(a){return 30<a.r}).classed("xl-text",function(a){return 50<a.r}).selectAll("tspan").data(function(a){return a.lines}).enter().append("tspan").attr("x",
0).attr("y",function(a,k,y){return 15*(k-y.length/2+.8)}).text(function(a){return a})}var c=d(60),g=d3.select(".bubble-chart"),e=null;h.a={init:function(){c.a.setupSelect("cottagecore",d3.select(".tree-select"),null);d3.csv("/trends/static/deep-dive/youtube-aesthetics/assets/data/bubble.csv").then(function(m){e=d3.map(d3.nest().key(function(p){return p.aesthetic.toLowerCase()}).rollup(function(p){return p.map(function(r){return{cat:r.cat,percent:r.percent,val:r.percent.replace("%","")/100}})}).entries(m),
function(p){return p.key});f(e.get("cottagecore").value)}).catch(console.error);d3.select(".tree-select").on("change",function(m){m=d3.select(".tree-select").node().value;f(e.get(m.toLowerCase()).value)})}}},175:function(b,h,d){d(176);b.exports=d(177)},176:function(b,h,d){d.r(h);var f=d(29);b=d(132);h=d(134);var c=d(135),g=d(136),e=d(137);d=d(138);var m=d3.select("body");f=new f.a;m.classed("is-mobile",f.mobile);d3.select(".yti").selectAll("a").attr("target","_blank");d3.select("header").style("margin-bottom",
0);d3.select(".ytt-aside").style("position","relative").style("z-index","100");d3.select("footer").style("position","relative").style("z-index","100");b.a.init();h.a.init();c.a.init();g.a.init();e.a.init();d.a.init();b=document.querySelector(".ytt-page-progress");h=new Event("ytt-progress-update");b.dispatchEvent(h)},177:function(b,h,d){},21:function(b,h){function d(f){"@babel/helpers - typeof";return b.exports=d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:
function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},b.exports.__esModule=!0,b.exports["default"]=b.exports,d(f)}b.exports=d;b.exports.__esModule=!0;b.exports["default"]=b.exports},22:function(b,h,d){d.d(h,"a",function(){return f});var f={js:function(){return!0},ios:function(c,g){return/(iPhone|iPod|iPad)/i.test(g)},mac:function(c,g){return/(Mac)/i.test(g)},"mac-or-ios":function(c,g){return f.mac(c,g)||f.ios(c,g)},android:function(c,g){return/(Android)/i.test(g)},
ontouchstart:function(c){return"ontouchstart"in c},mobile:function(c,g){return f.android(c,g)||f.ios(c,g)||/(webOS)/i.test(g)||/(BlackBerry)/i.test(g)||/(Windows Phone)/i.test(g)}}},29:function(b,h,d){d.d(h,"a",function(){return m});b=d(3);var f=d.n(b);b=d(4);var c=d.n(b);b=d(0);var g=d.n(b),e=d(22),m=function(){function p(){var r=this,x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window;f()(this,p);g()(this,"htmlEl",
void 0);g()(this,"window",void 0);g()(this,"userAgent",void 0);this.htmlEl=document.documentElement;this.window=w;this.userAgent=x;Object.keys(e.a).forEach(function(q){var u=(0,e.a[q])(w,x);r[q]=e.a[q](w,x);r.htmlEl.classList.toggle(r.getClass(q,!0),u);r.htmlEl.classList.toggle(r.getClass(q,!1),!u)})}c()(p,[{key:"test",value:function(r){return e.a[r](this.window,this.userAgent)}},{key:"getClass",value:function(r,x){return"".concat(x?"":"no-").concat(r)}}]);return p}()},3:function(b,h){b.exports=function(d,
f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function");};b.exports.__esModule=!0;b.exports["default"]=b.exports},35:function(b,h,d){var f=d(21)["default"],c=d(42);b.exports=function(g){g=c(g,"string");return"symbol"===f(g)?g:String(g)};b.exports.__esModule=!0;b.exports["default"]=b.exports},4:function(b,h,d){function f(g,e){for(var m=0;m<e.length;m++){var p=e[m];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(g,c(p.key),
p)}}var c=d(35);b.exports=function(g,e,m){e&&f(g.prototype,e);m&&f(g,m);Object.defineProperty(g,"prototype",{writable:!1});return g};b.exports.__esModule=!0;b.exports["default"]=b.exports},42:function(b,h,d){var f=d(21)["default"];b.exports=function(c,g){if("object"!==f(c)||null===c)return c;var e=c[Symbol.toPrimitive];if(void 0!==e){c=e.call(c,g||"default");if("object"!==f(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===g?String:Number)(c)};b.exports.__esModule=
!0;b.exports["default"]=b.exports},53:function(b,h,d){d.d(h,"a",function(){return c});b=d(4);b=d.n(b);h=d(3);var f=d.n(h),c=b()(function e(){function m(w,q){void 0===q&&(q=document);return"string"===typeof w?Array.from(q.querySelectorAll(w)):w instanceof Element?[w]:w instanceof NodeList?Array.from(w):w instanceof Array?w:[]}function p(w){var q=w.id,u=w.offsetVal;w=w.stepEl[0].className;var a=document.createElement("div");a.id="scrollama__debug-offset--"+q;a.className="scrollama__debug-offset";a.style.position=
"fixed";a.style.left="0";a.style.width="100%";a.style.height="0";a.style.borderTop="2px dashed black";a.style.zIndex="9999";q=document.createElement("p");q.innerText='".'+w+'" trigger: '+u;q.style.fontSize="12px";q.style.fontFamily="monospace";q.style.color="black";q.style.margin="0";q.style.padding="6px";a.appendChild(q);document.body.appendChild(a)}function r(w){var q=w.offsetMargin;document.getElementById("scrollama__debug-offset--"+w.id).style.top=q+"px"}function x(w){var q=w.state,u="scrollama__debug-step--"+
w.id+"-"+w.index;w=document.getElementById(u+"_above");u=document.getElementById(u+"_below");q="enter"===q?"block":"none";w&&(w.style.display=q);u&&(u.style.display=q)}f()(this,e);return function(){function w(){var l=Date.now();return""+[0,0,0].map(function(n){return"abcdefghijklmnopqrstuv"[Math.floor(22*Math.random())]}).join("")+l}function q(l){return l.getBoundingClientRect().top+window.pageYOffset-(document.body.clientTop||0)}function u(){var l=document.body,n=document.documentElement;return Math.max(l.scrollHeight,
l.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function a(l){return+l.getAttribute("data-scrollama-index")}function k(){window.pageYOffset>ba?N="down":window.pageYOffset<ba&&(N="up");ba=window.pageYOffset}function y(l){Q[l]&&Q[l].forEach(function(n){return n.disconnect()})}function t(){T=window.innerHeight;ca=u();G=V*T;da&&(R=D.map(function(l){return l.getBoundingClientRect().height}),ha=D.map(q),W&&ia());X&&r({id:Y,stepOffsetHeight:R,offsetMargin:G,offsetVal:V})}function A(l){if(l&&
!W)if(da)ia();else{console.error("scrollama error: enable() called before scroller was ready");W=!1;return}!l&&W&&ja.forEach(y);W=l}function H(l,n){var z=a(l);void 0!==n&&(E[z].progress=n);l={element:l,index:z,progress:E[z].progress};"enter"===E[z].state&&S.stepProgress(l)}function K(l,n){if("above"===n)for(n=0;n<l;n+=1){var z=E[n];"enter"!==z.state&&"down"!==z.direction?(L(D[n],"down",!1),J(D[n],"down")):"enter"===z.state&&J(D[n],"down")}else if("below"===n)for(n=E.length-1;n>l;--n)z=E[n],"enter"===
z.state&&J(D[n],"up"),"down"===z.direction&&(L(D[n],"up",!1),J(D[n],"up"))}function L(l,n,z){void 0===z&&(z=!0);var B=a(l),F={element:l,index:B,direction:n};E[B].direction=n;E[B].state="enter";ea&&z&&"down"===n&&K(B,"above");ea&&z&&"up"===n&&K(B,"below");S.stepEnter&&!ka[B]&&(S.stepEnter(F,E),X&&x({id:Y,index:B,state:"enter"}),la&&(ka[B]=!0));aa&&H(l)}function J(l,n){var z=a(l),B={element:l,index:z,direction:n};aa&&("down"===n&&1>E[z].progress?H(l,1):"up"===n&&0<E[z].progress&&H(l,0));E[z].direction=
n;E[z].state="exit";S.stepExit(B,E);X&&x({id:Y,index:z,state:"exit"})}function Z(l){var n=l[0];k();l=n.isIntersecting;var z=n.boundingClientRect;n=n.target;var B=z.top-G;z=z.bottom-G;var F=a(n);F=E[F];l&&0>=B&&0<=z&&"down"===N&&"enter"!==F.state&&L(n,N);!l&&0<B&&"up"===N&&"enter"===F.state&&J(n,N)}function C(l){var n=l[0];k();l=n.isIntersecting;var z=n.boundingClientRect;n=n.target;var B=z.top-G;z=z.bottom-G;var F=a(n);F=E[F];l&&0>=B&&0<=z&&"up"===N&&"enter"!==F.state&&L(n,N);!l&&0>z&&"down"===N&&
"enter"===F.state&&J(n,N)}function I(l){var n=l[0];k();l=n.isIntersecting;n=n.target;var z=a(n);z=E[z];l&&"down"===N&&"down"!==z.direction&&"enter"!==z.state&&(L(n,"down"),J(n,"down"))}function M(l){var n=l[0];k();l=n.isIntersecting;n=n.target;var z=a(n);z=E[z];l&&"up"===N&&"down"===z.direction&&"enter"!==z.state&&(L(n,"up"),J(n,"up"))}function P(l){l=l[0];k();var n=l.intersectionRatio,z=l.target,B=l.boundingClientRect.bottom-G;l.isIntersecting&&0<=B&&H(z,+n.toFixed(3))}function oa(){Q.viewportAbove=
D.map(function(l,n){n=new IntersectionObserver(I,{rootMargin:ca-ha[n]+"px 0px "+(G-T-R[n])+"px 0px"});n.observe(l);return n})}function pa(){Q.viewportBelow=D.map(function(l,n){n=new IntersectionObserver(M,{rootMargin:-G-R[n]+"px 0px "+(G-T+R[n]+ca)+"px 0px"});n.observe(l);return n})}function qa(){Q.stepAbove=D.map(function(l,n){n=new IntersectionObserver(Z,{rootMargin:-G+R[n]+"px 0px "+(G-T)+"px 0px"});n.observe(l);return n})}function ra(){Q.stepBelow=D.map(function(l,n){n=new IntersectionObserver(C,
{rootMargin:-G+"px 0px "+(G-T+R[n])+"px 0px"});n.observe(l);return n})}function sa(){Q.stepProgress=D.map(function(l,n){var z=R[n]-G+"px 0px "+(-T+G)+"px 0px";n=Math.ceil(R[n]/ma);for(var B=[],F=1/n,U=0;U<n;U+=1)B.push(U*F);z=new IntersectionObserver(P,{rootMargin:z,threshold:B});z.observe(l);return z})}function ia(){ja.forEach(y);oa();pa();qa();ra();aa&&sa()}function ta(){D.forEach(function(l,n){return l.setAttribute("data-scrollama-index",n)})}function ua(){E=D.map(function(){return{direction:null,
state:null,progress:0}})}function na(l){if(l&&1===l.nodeType){var n=window.getComputedStyle(l);return("scroll"===n.overflowY||"auto"===n.overflowY)&&l.scrollHeight>l.clientHeight?l:na(l.parentNode)}return!1}var ja=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"],S={stepEnter:function(){},stepExit:function(){},stepProgress:function(){}},Q={},Y=null,D=[],R=[],ha=[],E=[],V=0,G=0,T=0,ca=0,ba=0,ma=0,da=!1,W=!1,X=!1,aa=!1,ea=!1,la=!1,N="down",ka=[],O={setup:function(l){var n=l.step,
z=l.offset;void 0===z&&(z=.5);var B=l.progress;void 0===B&&(B=!1);var F=l.threshold;void 0===F&&(F=4);var U=l.debug;void 0===U&&(U=!1);var fa=l.order;void 0===fa&&(fa=!0);l=l.once;void 0===l&&(l=!1);Y=w();D=m(n);if(!D.length)return console.error("scrollama error: no step elements"),O;(n=D.reduce(function(va,wa){return va||na(wa.parentNode)},!1))&&console.error("scrollama error",n);X=U;aa=B;ea=fa;la=l;O.offsetTrigger(z);ma=Math.max(1,+F);da=!0;X&&p({id:Y,stepEl:D,offsetVal:V});ta();ua();t();O.enable();
return O},resize:function(){t();return O},enable:function(){A(!0);return O},disable:function(){A(!1);return O},destroy:function(){A(!1);Object.keys(S).forEach(function(l){S[l]=null});Object.keys(Q).forEach(function(l){Q[l]=null})},offsetTrigger:function(l){if(l&&!isNaN(l))return 1<l&&console.error("scrollama error: offset value is greater than 1. Fallbacks to 1."),0>l&&console.error("scrollama error: offset value is lower than 0. Fallbacks to 0."),V=Math.min(Math.max(0,l),1),O;isNaN(l)&&console.error("scrollama error: offset value is not a number. Fallbacks to 0.");
return V},onStepEnter:function(l){"function"===typeof l?S.stepEnter=l:console.error("scrollama error: onStepEnter requires a function");return O},onStepExit:function(l){"function"===typeof l?S.stepExit=l:console.error("scrollama error: onStepExit requires a function");return O},onStepProgress:function(l){"function"===typeof l?S.stepProgress=l:console.error("scrollama error: onStepProgress requires a function");return O}};return O}()})},60:function(b,h,d){var f=d(133);h.a={setupSelect:function(c,g,
e){var m=f.a.getTrending();e&&(m=e);g.selectAll("option").data(m).enter().append("option").property("selected",function(p){return p===c}).attr("value",function(p){return p}).text(function(p){return"y2k"==p?"Y2K":p.charAt(0).toUpperCase()+p.slice(1)})}}},84:function(b,h,d){function f(q){d3.select(".image-collage").classed("".concat(e,"-collage"),!1);e="cottagecore";void d3.select(".image-collage").node().offsetWidth;r&&r.selectAll("div").remove();d3.select(".image-collage").classed("".concat(e.replace(" ",
"-"),"-collage"),!0);m=q;m.get(e).values.map(function(u,a){x.push(u.values)});x=x.flat(1);q=d3.select(".image-collage");q.append("div").attr("class","circle-gradient");p=q.append("div").attr("class","slides");r=p.selectAll("div").data(d3.range(20)).enter().append("div").attr("class","slide").style("margin-top",function(u,a){return.5>Math.random()?100*-Math.random()+"px":100*Math.random()+"px"});r.selectAll("div").data(function(u){return x.sort(function(){return Math.random()-.5})}).enter().append("div").style("background-image",
function(u){return"url(https://i.ytimg.com/vi/".concat(u["video-id"],"/hqdefault.jpg)")}).style("transform",function(u,a){return.8<Math.random()?"scale(".concat(.8+(Math.random()-.5),")"):null}).attr("class","thumbnail");c()}function c(){var q=0;g=window.setInterval(function(u){p.transition().ease(d3.easeLinear).duration(2E3).style("opacity",0).on("end",function(){d3.select(".image-collage").classed("".concat(e.replace(" ","-"),"-collage"),!1);q+=1;e=w[q%w.length];x=[];m.get(e).values.map(function(a,
k){x.push(a.values)});x=x.flat(1);void d3.select(".image-collage").node().offsetWidth;r.selectAll("div").remove();r.selectAll("div").data(function(a){return x.sort(function(){return Math.random()-.5})}).enter().append("div").style("background-image",function(a){return"url(https://i.ytimg.com/vi/".concat(a["video-id"],"/hqdefault.jpg)")}).style("transform",function(a,k){return.8<Math.random()?"scale(".concat(.8+(Math.random()-.5),")"):null}).attr("class","thumbnail");d3.select(".image-collage").classed("".concat(e.replace(" ",
"-"),"-collage"),!0);p.transition().ease(d3.easeLinear).duration(1500).style("opacity",1)})},8E3)}var g=null,e="cottagecore",m=null,p=null,r=null,x=[],w=["cottagecore","y2k","vaporwave","dark academia","bardcore"];h.a={init:f,stopAnimation:function(){clearInterval(g)},startAnimation:function(){m&&(clearInterval(g),f(m))}}},86:function(b,h,d){function f(){var C=t.node().getBoundingClientRect().width,I=.5*window.innerHeight;r=C-w.left-w.right;x=I-w.top-w.bottom;A.attr("width",C).attr("height",I);u.range([0,
r]);a.range([x,0]);H.attr("transform","translate(".concat(w.top,", ").concat(w.left,")"));J.attr("transform","translate(".concat(w.top,", ").concat(w.left,")"));K.attr("transform","translate(0, ".concat(x,")"))}function c(C){var I=C.columns.filter(function(M){return"month"!==M});C.forEach(function(M){M.date=y(M.month);I.forEach(function(P){return M[P]=+M[P]})});m=C}function g(C){p=C;C=m.filter(function(P){return P[p]});var I=d3.extent(C,function(P){return P.date}),M=d3.extent(m,function(P){return P[p]});
u.domain(I);a.domain(M);I=5;M="%b %Y";d3.select("body").classed("is-mobile")&&(I=3,M="%m/%y");I=d3.axisBottom(u).tickFormat(d3.timeFormat(M)).ticks(I).tickPadding(8);K.transition().duration(1E3).ease(d3.easeCubicInOut).call(I);I=d3.axisLeft(a).tickFormat(d3.format(".0s")).ticks(5).tickSize(-r).tickPadding(8);L.transition().duration(1E3).ease(d3.easeCubicInOut).call(I);Z.style("opacity",0).attr("d",k(C));C=Z.node().getTotalLength();Z.attr("stroke-dashoffset",C).attr("stroke-dasharray",C).style("stroke",
q[p]).style("opacity",1).transition().duration(1E3).ease(d3.easeLinear).attr("stroke-dashoffset",0)}var e=d(90),m=[],p="Cottagecore",r=0,x=0,w={top:50,right:50,bottom:50,left:50},q={Cottagecore:"rgb(231, 175, 54)",Y2K:"rgb(169, 138, 214)",Dreamcore:"rgb(232, 108, 108)",Bardcore:"rgb(137, 172, 210)","Dark Academia":"rgb(123, 181, 119)",Royaltycore:"rgb(204, 204, 204)"},u=d3.scaleTime(),a=d3.scaleLinear(),k=d3.line().x(function(C){return u(C.date)}).y(function(C){return a(C[p])}).curve(d3.curveMonotoneX),
y=d3.timeParse("%Y%m"),t=d3.select(".line-chart-build figure"),A=t.select("svg"),H=A.select(".axes"),K=A.select(".axis--x"),L=A.select(".axis--y"),J=A.select(".vis"),Z=J.select("path");h.a={init:function(){Object(e.a)("monthly-views.csv").then(c).then(function(){f();g("Cottagecore")}).catch(console.error)},resize:f,render:g}},90:function(b,h,d){function f(g){return new Promise(function(e,m){var p=g.split(".").pop();"csv"===p?d3.csv("/trends/static/deep-dive/youtube-aesthetics/assets/data/".concat(g)).then(e).catch(m):
"json"===p?d3.json("/trends/static/deep-dive/youtube-aesthetics/assets/data/".concat(g)).then(e).catch(m):m(Error("unsupported file type for: ".concat(g)))})}function c(g){if("string"===typeof g)return f(g);g=g.map(f);return Promise.all(g)}d.d(h,"a",function(){return c})},96:function(b,h){(function(d,f){function c(a){this.time=a.time;this.target=a.target;this.rootBounds=a.rootBounds;this.boundingClientRect=a.boundingClientRect;this.intersectionRect=a.intersectionRect||x();this.isIntersecting=!!a.intersectionRect;
a=this.boundingClientRect;a=a.width*a.height;var k=this.intersectionRect;k=k.width*k.height;this.intersectionRatio=a?Number((k/a).toFixed(4)):this.isIntersecting?1:0}function g(a,k){k=k||{};if("function"!=typeof a)throw Error("callback must be a function");if(k.root&&1!=k.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=e(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=a;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=
this._parseRootMargin(k.rootMargin);this.thresholds=this._initThresholds(k.threshold);this.root=k.root||null;this.rootMargin=this._rootMarginValues.map(function(y){return y.value+y.unit}).join(" ")}function e(a,k){var y=null;return function(){y||(y=setTimeout(function(){a();y=null},k))}}function m(a,k,y,t){"function"==typeof a.addEventListener?a.addEventListener(k,y,t||!1):"function"==typeof a.attachEvent&&a.attachEvent("on"+k,y)}function p(a,k,y,t){"function"==typeof a.removeEventListener?a.removeEventListener(k,
y,t||!1):"function"==typeof a.detatchEvent&&a.detatchEvent("on"+k,y)}function r(a){try{var k=a.getBoundingClientRect()}catch(y){}if(!k)return x();k.width&&k.height||(k={top:k.top,right:k.right,bottom:k.bottom,left:k.left,width:k.right-k.left,height:k.bottom-k.top});return k}function x(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function w(a,k){for(;k;){if(k==a)return!0;k=q(k)}return!1}function q(a){return(a=a.parentNode)&&11==a.nodeType&&a.host?a.host:a&&a.assignedSlot?a.assignedSlot.parentNode:
a}if("IntersectionObserver"in d&&"IntersectionObserverEntry"in d&&"intersectionRatio"in d.IntersectionObserverEntry.prototype)"isIntersecting"in d.IntersectionObserverEntry.prototype||Object.defineProperty(d.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var u=[];g.prototype.THROTTLE_TIMEOUT=100;g.prototype.POLL_INTERVAL=null;g.prototype.USE_MUTATION_OBSERVER=!0;g.prototype.observe=function(a){if(!this._observationTargets.some(function(k){return k.element==
a})){if(!a||1!=a.nodeType)throw Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:a,entry:null});this._monitorIntersections();this._checkForIntersections()}};g.prototype.unobserve=function(a){this._observationTargets=this._observationTargets.filter(function(k){return k.element!=a});this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())};g.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();
this._unregisterInstance()};g.prototype.takeRecords=function(){var a=this._queuedEntries.slice();this._queuedEntries=[];return a};g.prototype._initThresholds=function(a){a=a||[0];Array.isArray(a)||(a=[a]);return a.sort().filter(function(k,y,t){if("number"!=typeof k||isNaN(k)||0>k||1<k)throw Error("threshold must be a number between 0 and 1 inclusively");return k!==t[y-1]})};g.prototype._parseRootMargin=function(a){a=(a||"0px").split(/\s+/).map(function(k){k=/^(-?\d*\.?\d+)(px|%)$/.exec(k);if(!k)throw Error("rootMargin must be specified in pixels or percent");
return{value:parseFloat(k[1]),unit:k[2]}});a[1]=a[1]||a[0];a[2]=a[2]||a[0];a[3]=a[3]||a[1];return a};g.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(m(d,"resize",this._checkForIntersections,!0),m(f,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in d&&(this._domObserver=new MutationObserver(this._checkForIntersections),
this._domObserver.observe(f,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};g.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,p(d,"resize",this._checkForIntersections,!0),p(f,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))};g.prototype._checkForIntersections=function(){var a=this._rootIsInDom(),
k=a?this._getRootRect():x();this._observationTargets.forEach(function(y){var t=y.element,A=r(t),H=this._rootContainsTarget(t),K=y.entry,L=a&&H&&this._computeTargetAndRootIntersection(t,k);y=y.entry=new c({time:d.performance&&performance.now&&performance.now(),target:t,boundingClientRect:A,rootBounds:k,intersectionRect:L});K?a&&H?this._hasCrossedThreshold(K,y)&&this._queuedEntries.push(y):K&&K.isIntersecting&&this._queuedEntries.push(y):this._queuedEntries.push(y)},this);this._queuedEntries.length&&
this._callback(this.takeRecords(),this)};g.prototype._computeTargetAndRootIntersection=function(a,k){if("none"!=d.getComputedStyle(a).display){var y=r(a);a=q(a);for(var t=!1;!t;){var A=null,H=1==a.nodeType?d.getComputedStyle(a):{};if("none"==H.display)return;a==this.root||a==f?(t=!0,A=k):a!=f.body&&a!=f.documentElement&&"visible"!=H.overflow&&(A=r(a));if(A){H=Math.max(A.top,y.top);var K=Math.min(A.bottom,y.bottom),L=Math.max(A.left,y.left);y=Math.min(A.right,y.right);A=y-L;var J=K-H;y=0<=A&&0<=J&&
{top:H,bottom:K,left:L,right:y,width:A,height:J};if(!y)break}a=q(a)}return y}};g.prototype._getRootRect=function(){if(this.root)var a=r(this.root);else{a=f.documentElement;var k=f.body;a={top:0,left:0,right:a.clientWidth||k.clientWidth,width:a.clientWidth||k.clientWidth,bottom:a.clientHeight||k.clientHeight,height:a.clientHeight||k.clientHeight}}return this._expandRectByRootMargin(a)};g.prototype._expandRectByRootMargin=function(a){var k=this._rootMarginValues.map(function(y,t){return"px"==y.unit?
y.value:y.value*(t%2?a.width:a.height)/100});k={top:a.top-k[0],right:a.right+k[1],bottom:a.bottom+k[2],left:a.left-k[3]};k.width=k.right-k.left;k.height=k.bottom-k.top;return k};g.prototype._hasCrossedThreshold=function(a,k){a=a&&a.isIntersecting?a.intersectionRatio||0:-1;k=k.isIntersecting?k.intersectionRatio||0:-1;if(a!==k)for(var y=0;y<this.thresholds.length;y++){var t=this.thresholds[y];if(t==a||t==k||t<a!==t<k)return!0}};g.prototype._rootIsInDom=function(){return!this.root||w(f,this.root)};g.prototype._rootContainsTarget=
function(a){return w(this.root||f,a)};g.prototype._registerInstance=function(){0>u.indexOf(this)&&u.push(this)};g.prototype._unregisterInstance=function(){var a=u.indexOf(this);-1!=a&&u.splice(a,1)};d.IntersectionObserver=g;d.IntersectionObserverEntry=c}})(window,document)}});}).call(this || window)
